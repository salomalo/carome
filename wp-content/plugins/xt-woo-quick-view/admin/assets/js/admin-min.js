!function($){"use strict";var e={};e.notices={init:function(){setTimeout(function(){$(".wooqv-notice").each(function(){$(this).prependTo("#wpbody-content")})},10)}},e.license={init:function(){var e=this,i=function(){e.initLicenseForm($(this))};$(".wooqv-license-activation").each(i)},initLicenseForm:function(e){function i(e){"valid"===e.code?t(e):"exists"===e.code?n(e):"revoked"===e.code?a(e):d(e)}function n(e){v.hide(),m.hide(),q.hide(),p.hide(),h.hide(),u.fadeIn(),u.find('input[name="purchase_code"]').val(e.license.purchase_code),u.find('input[name="domain"]').val(e.license.domain),w.html(e.license_summary).fadeIn()}function a(e){o(),w.empty().hide(),q.html(e.msg),q.fadeIn(),h.hide()}function o(){w.empty().hide(),u.hide(),h.hide(),m.hide(),q.hide(),p.hide(),v.fadeIn()}function t(e){u.hide(),v.hide(),q.hide(),p.hide(),m.fadeIn(),h.fadeIn(),w.html(e.license_summary).fadeIn(),h.find('[name="purchase_code"]').val(e.license.purchase_code),h.find('[name="domain"]').val(e.license.domain),$(document).trigger("wooqv-license-activated",[e.license,e.license_summary,w])}function d(){u.hide(),v.hide(),q.hide(),h.hide(),m.hide(),p.fadeIn();var e=3;y.html(e),e--;var i=setInterval(function(){0===e?(y.empty(),clearInterval(i),o()):(y.html(e),e--)},1e3)}var c=$(e).data("id"),l=$(e).data("homeurl"),f=$(e).data("domain"),s=$(e).data("ajaxurl"),r=$(e).find(".wooqv-license-form"),v=$(e).find("#wooqv-license-activation-form"),u=$(e).find("#wooqv-license-revoke-form"),h=$(e).find("#wooqv-license-local-revoke-form"),m=$(e).find("#wooqv-license-activated"),p=$(e).find("#wooqv-license-invalid"),w=$(e).find(".wooqv-license-info"),q=$(e).find(".wooqv-license-revoke-info"),y=$(e).find(".wooqv-license-timer");r.each(function(){var e=$(this);e.find('input[type="submit"]').on("click",function(n){n.preventDefault();var a=$(this),o=a.val();if(a.val("Processing..."),a.attr("disabled",!0),e.find('input[name="action"]').val()==="wooqv_license_activation_"+c){var t=""!==f?f:location.host.replace("www.",""),d=l;e.find('input[name="domain"]').val(t),e.find('input[name="installation_url"]').val(d)}var r=e.find(":input").serialize();$.ajax({cache:!1,url:s,type:"POST",data:r,dataType:"json"}).done(function(e){i(e),a.val(o),a.removeAttr("disabled")}).fail(function(e){alert("Something went wrong! Please try again later!"),a.val(o),a.removeAttr("disabled")})})}),u.find(".wooqv-license-revoke-cancel").on("click",function(e){e.preventDefault(),o()})}},$(document).ready(function(){e.notices.init(),e.license.init()})}(jQuery);